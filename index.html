<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Name of the app -->
  <title>Book Info</title>

<body onload="initialize()">
  <script>
    function initialize() {
      if (navigator.onLine) {
        const xhr = new XMLHttpRequest();
        const url = "books.json";

        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4) {
            var books = JSON.parse(xhr.response).books;
            books.forEach(addRow);
          }
        };

        xhr.open("get", url);
        xhr.send();
      }
    }

    function addRow(book) {
      // Add code here for part (b)
      var booklist = document.getElementById("booklist");
      var row = booklist.insertRow();

      var titleCell = row.insertCell();
      titleCell.innerHTML = book.title;

      var callNumberCell = row.insertCell();
      callNumberCell.innerHTML = book.callnumber;

      var priceCell = row.insertCell();
      priceCell.innerHTML = book.price;

      var discountedPriceCell = row.insertCell();
      discountedPriceCell.innerHTML = book.price * 0.8;
    }
  </script>

  <!-- Add code here for part (a) -->
  <table border="1">
    <caption style="font-size:2.5em">Book List</caption>
    <thead>
      <tr>
        <th>Title</th>
        <th>Call Number</th>
        <th>Price</th>
        <th>Discounted Price</th>
      </tr>
    </thead>
    <tbody id="booklist">
    </tbody>

  </table>
</body>

</html>
